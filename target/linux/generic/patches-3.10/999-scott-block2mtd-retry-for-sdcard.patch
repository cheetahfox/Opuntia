--- a/drivers/mtd/devices/block2mtd.c	2013-08-16 12:10:23.240105482 -0500
+++ b/drivers/mtd/devices/block2mtd.c	2013-08-30 14:22:40.055227919 -0500
@@ -234,10 +234,17 @@
 		/* We might not have rootfs mounted at this point. Try
 		   to resolve the device name by other means. */
 
+		int retries=100;
+again:
 		wait_for_device_probe();
 		dev_t devt = name_to_dev_t(devname);
 		if (devt)
 			bdev = blkdev_get_by_dev(devt, mode, dev);
+		else if (retries-- > 0) {
+			ERROR("Device %s not found yet, sleeping %d ticks...", devname, 100*HZ);
+			schedule_timeout(100*HZ);
+			goto again;
+		}
 	}
 #endif
 
