--- a/package/kernel/mac80211/files/lib/netifd/wireless/mac80211.sh
+++ b/package/kernel/mac80211/files/lib/netifd/wireless/mac80211.sh
@@ -845,6 +845,7 @@ drv_mac80211_teardown() {
 
         . $IPKG_INSTROOT/lib/functions/procd.sh > /dev/null 2>&1
 	procd_kill hostapd-$phy $phy
+	procd_kill wpa_supplicant-$phy $phy
 	mac80211_interface_cleanup "$phy"
 }
 
--- a/package/network/services/hostapd/files/hostapd.sh
+++ b/package/network/services/hostapd/files/hostapd.sh
@@ -801,21 +801,30 @@ wpa_supplicant_run() {
 
 	_wpa_supplicant_common "$ifname"
 
-	/usr/sbin/wpa_supplicant -B \
-		${network_bridge:+-b $network_bridge} \
-		-P "/var/run/wpa_supplicant-${ifname}.pid" \
-		-D ${_w_driver:-wext} \
-		-i "$ifname" \
-		-c "$_config" \
-		-C "$_rpath" \
-		"$@"
+	{
+		. $IPKG_INSTROOT/lib/functions/procd.sh >/dev/null 2>&1
+		procd_open_service wpa_supplicant-$phy
+		procd_open_instance $phy
+		procd_set_param command /usr/sbin/wpa_supplicant \
+			${network_bridge:+-b $network_bridge} \
+			-P "/var/run/wpa_supplicant-${ifname}.pid" \
+			-D ${_w_driver:-wext} \
+			-i "$ifname" \
+			-c "$_config" \
+			-C "$_rpath" \
+			-s -dd \
+			"$@"
+		procd_set_param respawn
+		procd_close_instance
+		procd_close_service 2>/dev/null
+	}
 
-	ret="$?"
-	wireless_add_process "$(cat "/var/run/wpa_supplicant-${ifname}.pid")" /usr/sbin/wpa_supplicant 1
+#       ret="$?"
+        wireless_add_process "$(cat "/var/run/wpa_supplicant-${ifname}.pid")" /usr/sbin/wpa_supplicant 1
 
-	[ "$ret" != 0 ] && wireless_setup_vif_failed WPA_SUPPLICANT_FAILED
+#       [ "$ret" != 0 ] && wireless_setup_vif_failed WPA_SUPPLICANT_FAILED
 
-	return $ret
+        return 0
 }
 
 hostapd_common_cleanup() {
