Index: build_dir/target/linux/ramips/mt7621/base-files/etc/board.d/02_network
===================================================================
--- build_dir.orig/target/linux/ramips/mt7621/base-files/etc/board.d/02_network
+++ build_dir/target/linux/ramips/mt7621/base-files/etc/board.d/02_network
@@ -23,8 +23,14 @@ ramips_setup_interfaces()
 	xiaomi,mi-router-4a-gigabit)
 		ucidef_set_interfaces_lan_wan "lan1 lan2" "wan"
 		;;
+	mikrotik,routerboard-m11g)
+		ucidef_set_interface_lan "eth0.4001"
+        	ucidef_add_switch "switch0" \
+                	"0:lan:1:4001" "6@eth0"
+        	ucidef_add_switch_extra_attr "switch0" "alias_cpu" "6"
+        	ucidef_add_switch_extra_attr "switch0" "alias_lan" "0"
+        	;;
 	edimax,re23s|\
-	mikrotik,routerboard-m11g|\
 	netgear,ex6150|\
 	thunder,timecloud|\
 	tplink,re350-v1|\
@@ -135,7 +141,7 @@ ramips_setup_macs()
 	mikrotik,routerboard-760igs|\
 	mikrotik,routerboard-m11g|\
 	mikrotik,routerboard-m33g)
-		label_mac=$(cat "/sys/firmware/mikrotik/hard_config/mac_base")
+		label_mac=$(mtd_get_mac_binary imagestream 0x10)
 		wan_mac=$label_mac
 		lan_mac=$(macaddr_add $label_mac 1)
 		;;
Index: build_dir/target/linux/ramips/mt7621/base-files/etc/board.d/01_leds
===================================================================
--- build_dir.orig/target/linux/ramips/mt7621/base-files/etc/board.d/01_leds
+++ build_dir/target/linux/ramips/mt7621/base-files/etc/board.d/01_leds
@@ -4,6 +4,7 @@
 . /lib/functions/uci-defaults.sh
 
 board=$(board_name)
+boardname="${board##*,}"
 
 board_config_update
 
@@ -55,10 +56,10 @@ mikrotik,routerboard-760igs)
 mikrotik,routerboard-m11g)
 	ucidef_set_rssimon "wlan0" "200000" "1"
 	ucidef_set_led_rssi "rssilow" "RSSILOW" "green:rssi0" "wlan0" "1" "100"
-	ucidef_set_led_rssi "rssimediumlow" "RSSIMEDIUMLOW" "green:rssi1" "wlan0" "20" "100"
-	ucidef_set_led_rssi "rssimediumhigh" "RSSIMEDIUMHIGH" "green:rssi2" "wlan0" "40" "100"
-	ucidef_set_led_rssi "rssihigh" "RSSIHIGH" "green:rssi3" "wlan0" "60" "100"
-	ucidef_set_led_rssi "rssiveryhigh" "RSSIVERYHIGH" "green:rssi4" "wlan0" "80" "100"
+	ucidef_set_led_rssi "rssimediumlow" "RSSIMEDIUMLOW" "$boardname:green:rssi1" "wlan0" "40" "100"
+	ucidef_set_led_rssi "rssimediumhigh" "RSSIMEDIUMHIGH" "$boardname:green:rssi2" "wlan0" "60" "100"
+	ucidef_set_led_rssi "rssihigh" "RSSIHIGH" "$boardname:green:rssi3" "wlan0" "75" "100"
+	ucidef_set_led_rssi "rssiveryhigh" "RSSIVERYHIGH" "$boardname:green:rssi4" "wlan0" "90" "100"
 	;;
 mtc,wr1201)
 	ucidef_set_led_netdev "eth_link" "LAN link" "green:eth_link" "br-lan"
