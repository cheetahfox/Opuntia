From c05f57e52e1659fa0a894782f0f52157bc255585 Mon Sep 17 00:00:00 2001
From: syoder <syoder@imagestream.com>
Date: Thu, 15 Aug 2013 18:06:16 -0500
Subject: [PATCH 04/14] Update luci with wwan "extrastatus" for man3g

---
 .../luci-app-multiwan/luasrc/model/cbi/multiwan/multiwan.lua          | 1 +
 imagestream/openwrt-luci/libs/core/luasrc/model/network.lua       | 8 ++++++++
 .../modules/luci-mod-admin-full/luasrc/controller/admin/network.lua        | 1 +
 .../modules/luci-mod-admin-full/luasrc/view/admin_network/iface_status.htm | 5 +++++
 4 files changed, 15 insertions(+)

Index: luci/modules/luci-compat/luasrc/model/network.lua
===================================================================
--- luci.orig/modules/luci-compat/luasrc/model/network.lua
+++ luci/modules/luci-compat/luasrc/model/network.lua
@@ -1330,6 +1330,14 @@ function protocol.adminlink(self)
 	return stat and dsp.build_url("admin", "network", "network", self.sid)
 end
 
+function protocol.extrastatus(self)
+	local p = self:proto()
+	if p == "ndis" then
+		return utl.exec("man3g -i %s status" % self:name())
+	end
+	return 0
+end
+
 
 interface = utl.class()
 
